#!/bin/bash

# Load the .env file
source .env

# Directory where the scripts are located
scripts_dir="$BASE_DIR_ABS_PATH/scripts"

# The first argument is the name of the script to run
command_name="$1"

# The rest of the arguments are passed to the script
shift

# Run the Python script helpers and get the path of the script to run
script_path=$(python3 "$scripts_dir/internal/find-script.py" "$command_name")

# Get the extension of the script
extension="${script_path##*.}"

# Run the script with the provided arguments
if [ "$extension" == "sh" ]
then
    bash "$script_path" "$@"
elif [ "$extension" == "py" ]
then
    python3 "$script_path" "$@"
else
    echo "⚠️ Unsupported script type: $extension"
    exit 1
fi

